<% include ./partials/header %>

<div class="ui main text container segment" id="show-container">
    <div class="ui huge header">Edit Blog Post</div>
    <form class="ui form" action="/blog/<%= blog._id %>?_method=PUT" method = "POST">
        <div class="field">
            <label>Title</label>
            <input type="text" name="blog[title]" value="<%=blog.title %>">
        </div>
        <div class="field">
            <label>Image</label>
            <input type="text" name="blog[image]" value="<%= blog.image %>">
        </div>
        <div class="field">
            <label>Category</label>
            <select name="category">
                <% categories.forEach(function(category){ %>
                    <option value = "<%= category._id %>"><%= category.name %></option>
                <% }); %>
            </select>  
        </div>
        <div class="field">
            <label>Blog Content</label>
            <textarea id="editor" name="blog[body]"><%-blog.body%></textarea>
        </div>
        <button class="ui icon button" type ="submit">Update Post</button>
    </form>
    <script>
        ClassicEditor
            .create( document.querySelector( '#editor' ) )
            .catch( error => {
                console.error( error );
            } );
    </script>
</div>

<% include ./partials/footer %>